<!doctype html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <style>
    #image {
      background-image: url(../Screenshot\ 2021-06-27\ 205135.png);
      background-color: transparent;
      background-size: cover;
      border-radius: 10px;
      font-size: 0;
      width: 30px;
      height: 30px;
      margin-left: 20px;
    }
  </style>
  <div class="container-lg">
    <nav class="navbar navbar-dark bg-dark">
      <header style="width: auto;  height: 100px;">
        <legend>
          <h1 style="margin: 10px; margin-top: 20px; padding-left: 20px; color: white;">Quotes API</h1>
        </legend>
      </header>
      <ul class="nav">
        <li class="nav-item">
          <button type="submit" class="btn btn-secondary" name="theForm" onclick="return direct()"
            style="margin-right: 20px; size: 20px;">Home</button>

        </li>
        <li class="nav-item">
          <button type="submit" class="btn btn-secondary" name="theForm" onclick="return redirect()"
            style="margin-right: 20px; size: 20px;">Create</button>

        </li>
      </ul>
    </nav>
    <br><br>
    <form action="/" method="post">
      <fieldset>

        <div class="mb-3">
          <label class="form-label">Input Number of qoutes</label>
          <input id="num" type="text" class="form-control" name="num" placeholder="" min="1" max="10" required>
          <h6 style="color: brown;"></h6>
          <span id="numspan" class="text-danger"></span>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" value="Inspirational"
            id="flexRadioDefault1" checked>
          <label class="form-check-label" for="flexRadioDefault1">
            Inspirational
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" value="Funny" id="flexRadioDefault2">
          <label class="form-check-label" for="flexRadioDefault2">
            Funny
          </label>
        </div>
        <div class="mb-3">

        </div>
        <button type="submit" class="btn btn-secondary" name="theForm">Read</button>
      </fieldset>
    </form>
    <br>

    <br><br>
    <table class="table table-dark table-striped">
      <thead>
        <tr>
          <th scope="col">No.</th>
          <th scope="col">Qoute</th>
          <th scope="col">Category</th>
          <th scope="col">Delete</th>
          <th scope="col">Update</th>
        </tr>
      </thead>
      <tbody>

        <%for(var i=0;i<newList.length;i++){%>
          <tr>

            <th scope="row">
              <%= i+1 %>
            </th>
            <td>
              <%= newList[i].qoutes %>
            </td>
            <td>
              <%= newList[i].category %>
            </td>
            <td>
              <form action="/delete" method="post">
                <button name="button" type="submit" value="<%= newList[i]._id %>" class="fas fa-trash-alt"
                  style="background-color: white; border: 0px; border-radius: 8px;">
                </button>
              </form>
            </td>
            <td>

              <!-- Button trigger modal -->
              <button name="button1" type="submit" class="btn btn-secondary" data-bs-toggle="modal"
                data-bs-target="#exampleModal" onclick="reply_click(this.value)" id="part1"
                value="<%= newList[i]._id %>">
                click
              </button>


              <form action="/update" method="post">


                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                  aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>

                      <div class="modal-body">




                        <div class="input-group flex-nowrap" style="padding: 5px;">
                          <input type="text" class="form-control" id="inlineFormInputGroupUsername" placeholder="Quote"
                            name="quote">
                        </div>

                        <br>


                        <select type="submit" class="form-select" name="options">
                          <option selected name="cat" value="0">Category</option>
                          <option value="Inspirational" name="insp">Inspirational</option>
                          <option value="Funny" name="fun">Funny</option>
                        </select>


                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-secondary" name="update" id="save" value="">Save
                          changes</button>
                      </div>

                    </div>
                  </div>
                </div>
              </form>
            </td>
          </tr>
          <%}%>
      </tbody>
    </table>
  </div>


  <script>

    function redirect() {
      window.location.href = '/qoute.html';
    }
    function direct() {
      window.location.href = '/';
    }
    var myModal = document.getElementById('myModal')
    var myInput = document.getElementById('myInput')

    myModal.addEventListener('shown.bs.modal', function () {
      myInput.focus()
    })

    function reply_click(clicked_value) {
      let x = clicked_value;
      var b = document.getElementById("save");
      b.setAttribute("value", x);
      

    }
  </script>

  <script src="https://kit.fontawesome.com/03d1242668.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
    integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
    crossorigin="anonymous"></script>


  </body>

</html>